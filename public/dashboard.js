var products = 
[
  {
    product_id: 1,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115.0,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2018/10/Image-41-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 2,
    product_title: "Armani Panel Blue Jean",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 20.5,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2018/10/Image-2-720x960.jpg",
    vendor: "Armani Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 3,
    product_title: "Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 20.3,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2018/10/Image-41-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 4,
    product_title: "DeFacto Sneakers",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 30,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-16-720x960.jpg",
    vendor: "Defacto",
    categories: "generic",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 5,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-26-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 6,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-10-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 7,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2018/10/Image-34-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 8,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-3-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 9,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-45-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 10,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-26-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 11,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url:
      "https://wpbingosite.com/wordpress/favita/wp-content/uploads/2019/03/Image-10-720x960.jpg",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 12,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115.0,
    img_url: "./images/kira1.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 13,
    product_title: "Armani Panel Blue Jean",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 20.5,
    img_url: "./images/kira2.png",
    vendor: "Armani Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 14,
    product_title: "Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 20.3,
    img_url: "./images/kira3.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 15,
    product_title: "DeFacto Sneakers",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 30,
    img_url: "./images/kira4.png",
    vendor: "Defacto",
    categories: "generic",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 16,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url: "./images/kira5.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 17,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url: "./images/kira6.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 18,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url: "./images/kira7.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 19,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url: "./images/kira8.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
  {
    product_id: 20,
    product_title: "Armani Black Suit Default",
    product_description:
      "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
    price: 115,
    img_url: "./images/kira9.png",
    vendor: "Kira Coutoure",
    categories: "women",
    liked: { like_status: false, count: 30 },
  },
];
var settings = {
  "async": true,
  "crossDomain": true,
  "url": "https://kiradb-4408.restdb.io/rest/kiras",
  "method": "GET",
  "headers": {
    "content-type": "application/json",
    "x-apikey": "63443556626b9c747864aaf1",
    "cache-control": "no-cache"
  }
}

$.ajax(settings).done(function (response) {
  console.log(response);
  products = response
  var productRend = document.getElementById("product_catalogs");

  products.map((item, i) => {
    const ordered = document.createElement("div");
    ordered.className = "product_contain";
    ordered.id = "product" + item.product_id;
    const newProduct = `
       <div class="products" >
      <img src="${item.img_url}" alt="">
      
    </div>
    <h4>${item.product_title}</h4>
      <p>$${item.price}</p>
      <div class="delete_edit"> <button class="btn_edit-admin" onclick="editProd()" ><i class="fa-solid fa-pen"></i> Edit </button> <button class="btn_delete-admin" id="${item._id}" onclick="deleteProd(this.id)"><i class="fa-solid fa-trash"></i> Delete </button></div>
  
  `;
    ordered.innerHTML = newProduct;
    productRend.append(ordered);
  });
  
  console.log(body);
});

function showThis(n){
  if(n === 2){
    document.getElementById("product_catalogs").style.display = "none";
    document.getElementById("blog_catalogs").style.display = "flex";
    document.getElementById("addProd").style.display = "none";

  }
  else if(n === 1){
    document.getElementById("product_catalogs").style.display = "flex"
    document.getElementById("blog_catalogs").style.display = "none";
    document.getElementById("addProd").style.display = "none";

  }
  else if(n === 4){
    document.getElementById("product_catalogs").style.display = "none"
    document.getElementById("blog_catalogs").style.display = "none";
    document.getElementById("addProd").style.display = "block";
    document.getElementById("createProd").style.display = "block";
    document.getElementById("edit_product").style.display = "none";
  }
  else if(n === 5){
    document.getElementById("product_catalogs").style.display = "none"
    document.getElementById("blog_catalogs").style.display = "none";
    document.getElementById("addProd").style.display = "block";
    document.getElementById("createProd").style.display = "none";
    document.getElementById("edit_product").style.display = "block";
    console.log(n, "now");
    
  }
  else{
    console.log(n);
  }
}
function editProd(){
  console.log("edit log");
  showThis(5)

  // var info = {id: a}

  // $.ajax({
  //   type: "POST",
  //   url: "/put",
  //   headers:{
  //     _id : a,
  //     product_title : document.getElementById("editProd").value,
  //     img_url: document.getElementById("editProd").value,
  //     price: document.getElementById("editProd").value,
  //   },
  //   data: JSON.stringify(info),
  //   success: function () {
  //     // Success Page
  //     redirect_url = "/login";
  //     location.href = redirect_url;
  //   },
  //   error: function (data) {
  //     console.log(data);
  //   },
  //   dataType: "json",
  //   contentType: "application/json",
  // });
}
function deleteProd(clicked_id){
  var info = {id: clicked_id}
  $.ajax({
    type: "POST",
    url: "/delete",
    headers: {_id : clicked_id},
    data: JSON.stringify(info),
    success: function () {
      
      // Success Page
      redirect_url = "/login";
      location.href = redirect_url;
    },
    error: function (data) {
      console.log(data);
    },
    dataType: "json",
    contentType: "application/json",
  });
}